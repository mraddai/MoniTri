<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Analytics - MoniTri</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>

<body>
    <div class="container mt-4">
        <h1>Spending Analytics</h1>

        <canvas id="categoryChart" width="400" height="200"></canvas>

        <a href="{{ url_for('index') }}" class="btn btn-secondary mt-3">Back to Expenses</a>
    </div>

    <script>
        const ctx = document.getElementById('categoryChart').getContext('2d');
        const categoryChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: {{ categories | tojson }},
        datasets: [{
            label: 'Total Spending by Category',
            data: {{ totals | tojson }},
            backgroundColor: [
            '#4e73df',
            '#1cc88a',
            '#36b9cc',
            '#f6c23e',
            '#e74a3b',
            '#858796',
            '#5a5c69',
            '#f8f9fc',
            '#a8a8a8'
        ],
            borderWidth: 1
      }]
    },
        options: {
            responsive: true,
                plugins: {
                legend: {
                    position: 'right'
                }
            }
        }
  });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>